---
title: 孤立的结构与重构 ---区块链(blockchain)应用快速原形开发实践
date: 2017-04-28 12:23:15
tags:
- 区块链
- 比特币
- ASTRI
- 重构
- 挖坑
---


# 摘要
本文主要记录了在基于旧有比特币区块链应用的基础上，如何快速进行概念原形的设计开发

<!--more-->

# 前情


去年7月开始到2月左右，我们ICDD-ASIC组跟HKEX做了一套Corporate-Action的概念原型，我在其中负责安卓开发和一些测试开发，由于我司的氛围倾向于少交流，少共用，多报告，我也只能尽我所了解的去解释一下

## Corporate-Action与HKEX
HKEX就是港交所https://www.hkex.com.hk/eng/index.htm

Corporate-Action直译过来就是公司决策。  
HKEX的希望我们用blockchain的长处尝试优化原有的公司决策系统

- 决策系统  
上市公司每个季度或者不定期需要开股东大会，而对于不能参加股东大会的持股人，他们会通过发布内部公告（Announcement）的方式通知他们并收集他们的反馈，这些公告的内容一般会包括：  
· 下届董事会主席任免  
· 富余资产管理流向，比如派股，派息  
· 公司重大决策意见反馈，比如退市，并购

我们发现这一系列流程都可以通过一个投票系统来实现，而世界上也有不少的实例佐证区块链适宜来构造一个投票系统。

##### 用户性质
- 交易所：HKEX本体，管理着众多上市公司
- 公司：我们原型项目里面只设立了一家公司
- 散户（CPC）: 散户通过券商间接持有该公司的股票
- 券商（CP）：持有大量股票的代理机构，除了管理散户之外，还管理着机构自身的官方账户（CP house）
- 大户，独立持股人（IP）：直接持有公司股票的个人

##### Colored coin技术

该技术用于传递任意文字信息（有长度限制的byte[]）。通俗理解就是在比特币发送的时候，发送者将文本写在交易单（Transaction）里面，使得比特币的接收者和接收地址监听者可以收到文本信息。
 - 如果有兴趣我就再写一片关于Colored coin技术的文章

## 整体流程

1. 公司发出公告并通知交易所
 - 由于所有人注册了交易所的信息，所以能看到任何公司的公告
 - 每项公告可以包括多个投票问题（Question）
 - 公司将含有公告正文的Colored coin发给交易所
2. 券商（CP）见到公告后，直到投票期结束前，每天晚上给被确认的持股人发放投票牌 (Voting token)
 - 持股确认：结算持股人的持股数量
 - 券商将作为投票牌发送Colored coin给持股人
 - 券商的持股人包括CPC，CP house
 - 注意：已经发出的投票牌不会被收回，详情见后
3. 与2类似，交易所作为IP的特殊券商，也会进行对应的操作

4. 收到投票牌之后，在投票截至前，进行投票
 - 持股人将含有投票决策信息的Colored coin发给自己的券商，CPC和CP House发给所属的CP，IP发给HKEX
5.    投票截止后，结合每个投票问题所设的权重法和截止当日投票人的持股确认情况，综合计算结果（Voting summary）
 - 券商和HKEX都会将含有投票结果的Colored coin发还给发出公告的公司






-------待续---------
